#:import random random

<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        size_hint: (.5, 1)
        padding: 128
        spacing: 64
        Label:
            text: 'The Flower'
        Button:
            text: 'Start'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'flower'
        Button:
            text: 'Settings'
            on_press:
                app.open_settings()
        Button:
            text: 'About'
        Button:
            text: 'Exit'
            on_press:
                app.stop()

<CongratsScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Congratulation!"
        Label:
            text:
                'Your current score is ' + str(app.score)
        Button:
            text: "Next level"
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'flower'

<ResultsScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Results'
            size_hint: (1, .1)
        GridLayout:
            id: results
            cols: 5
            rows: 7
        Button:
            text: "Back to menu"
            size_hint: (1, .1)
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'menu'

<PetalButton>:
    background_normal: ''
    background_color: 0, 0, 0, 0
    canvas.before:
        Color:
            rgb: (random.random(), random.random(), random.random())
        Ellipse:
            pos: root.pos
            size: root.size[0] * 1.4, root.size[1] * 1.4

<Timer>:
    pos_hint: {'x': .97}
    background_color: 0, 0, 0, 0
    canvas:
        Color:
            rgb: (0, 1, 0)
        Rectangle:
            pos: self.pos
            size: (self.size[0]*.05, self.size[1])

<Score>:
    pos_hint: {'top': 1.4, 'right': 1.4}
